<html>
    <head>
        <title>
            <%= title %>
        </title>
        <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
        <style>
            /*styling for the todo list*/
            body{
                background-color: rgb(46, 46, 205);
                font-family: Arial, Helvetica, sans-serif;
            }
            /*todo card styling*/
            .card{
                background-color: aliceblue;
                margin: 7% ;
                width: 80%;
                border: 2px black;
                border-radius: 1mm;
            }
            h1{
                font-family: 'Courier New', Courier, monospace;
                text-align: center;
            }
            form{
                padding: 5px;
            }
            /*styles for the description box, category list and date*/
            textarea{
                width: 100%;
                color: gray; 
                background-color: aliceblue;
            }
            
            ::placeholder{
                color: gray;
            }
            hr{
                border: 2px solid gray;
            }
            textarea{
                border: none;
            }
            select, input[type="date"]{
                width: 100%;
                height: 40px;
                border: none;
                background-color: aliceblue;
            }
        
            .col {
                float: left;
                width: 47.5%;
                padding: 10px;
            }
            /* Clear floats after the columns */
            .row:after {
                content: "";
                display: table;
                clear: both;
            }
            /*style for the add task button*/
            button{
                padding: 15px;
                background-color: blueviolet;
                color: aliceblue;
                border: 1px solid beige;
                transition: 1s;
                display: block;
                margin-left: auto;
                margin-right: auto;
            }
            button:hover{
                background-color: greenyellow;
                color: black;
                box-shadow: 1px 1px gray;

            }
            .vertical-line{
                height: 100px;
                width: 0%;
                border: 2px solid gray;
                position: absolute;
                margin-left: 39%;
                margin-top: 0;
                padding-top: 0;
            }
            /*card style for todo task list*/
            .licard{
                padding: 10px;
                margin: 10px 10px 10px 0px;
                border: 1px solid black;
            }
            .cate{
                float: right;
                padding:10px;
                background-color: rgb(17, 9, 25);
                text-align: center;
                color: antiquewhite;
            }
            #del{
                float: right;
                margin-left: 10px;
                padding: 11px;
                background-color: black;
                color: antiquewhite;
            }
            .due{
                font-size: 10px;
                color: gray;
                font-family:Verdana, Geneva, Tahoma, sans-serif
            }
            a{
                color: white;
                text-decoration: none;
            }
        </style>
    </head>
    <body>  
        <!--todo card-->
        <div class="card">
            <h1>TODO APP</h1>
            <hr>
            <!--form beginning-->
        <form action="/add-todo" method="POST">
            <!--description-->
            <label for="description">Description</label><br>
            <textarea name="description" id="description" cols="30" rows="5">
                What do you need to do?  
            </textarea>
            <hr>
            <div class="row">
                <div class="col">
                    <!--category list-->
                    <label for="category">Category</label><br><br>
                    <select name="category" id="category">
                        <option value="Category">Choose a category</option>
                        <option value="Personal">Personal</option>
                        <option value="Work">Work</option>
                        <option value="College">College</option>
                        <option value="Household chores">Household Chores</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="vertical-line">
                </div>
                <div class="col">
                    <!--date for completion-->
                    <label for="duedate">Due Date</label><br><br>
                    <input type="date" name="duedate" id="duedate">
                </div>
            </div>
            <hr>
            <div class="btn">
            <button type="submit">Add Task</button>
        </div>
        </form>
        <ul style="list-style-type: none;">
            <% for (let i of todo_list){ %>
                <li>
                    <div class="licard">
                   <p>
                       <!--displaying the todo tasks-->
                       <%= i.description %>  
                     <a href="/delete-task/?id=<%= i._id %>"><i class="fa fa-trash" id="del" aria-hidden="true"></i></a>  
                   <span class="cate"><%= i.category %></span></p>
                   <p class="due"><i class='fas'>&#xf073;</i>&nbsp;<%= i.duedate%></p>
                </div>
                </li>
                <% } %>
            </ul>
    </div>
    </body>
</html>